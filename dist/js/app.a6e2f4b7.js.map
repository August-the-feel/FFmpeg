{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?82dd","webpack:///./src/components/CropTool.vue?86c6","webpack:///./src/utils/simplifySecond.js","webpack:///./src/utils/formatTime.js","webpack:///./src/utils/throttle.js","webpack:///src/components/CropTool.vue","webpack:///./src/components/CropTool.vue?5e9b","webpack:///./src/components/CropTool.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/utils/utils.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","rawName","expression","domProps","on","$event","target","composing","videoUrl","id","ref","duration","playing","currentTime","playVideo","pauseVideo","stopVideo","staticRenderFns","_l","item","index","class","getCropRangeClass","style","computedRangeStyle","getTimeHintClass","_v","_s","getFormatTime","startTime","computedEndTimeIndicatorStyle","endTime","showNormalCursorTimeHint","currentCursorOffsetX","currentCursorTime","durationText","listLength","language","CROP_CLIP_LIST","reset","toggleShowList","showList","_e","cropItemHoverIndex","CUT_BEGIN_TIME","startTimeArr","startTimeChange","CUT_END_TIME","endTimeArr","endTimeChange","togglePlayClip","playingIndex","removeCropItem","cropItemToAdd","inputFocus","onAddClick","isSendingCrop","confirmCrop","SENDING_DATA","CONFIRM_CUT_VIDEO","seconds","date","Date","days","String","getUTCDate","padStart","hours","getUTCHours","minutes","getUTCMinutes","getUTCSeconds","time","times","simplifySecond","join","getFormatTimeArr","restoreTimeFromTimeArr","timeArr","restoreOriginalTime","timeStr","split","throttle","fn","delay","debounce","currCall","diff","scope","args","debounceNextCall","lastCall","lastExec","timer","exec","getTime","cb","arguments","thisDelay","thisDebounce","clearTimeout","setTimeout","clear","debounceDelay","Math","abs","x1","x2","components","props","type","Number","default","currentPlayingTime","Boolean","timeLineContainer","sliderLength","timeToPixelRatio","cropItemList","startTimeIndicatorHoverIndex","endTimeIndicatorHoverIndex","startTimeIndicatorDraggingIndex","endTimeIndicatorDraggingIndex","currentEditingIndex","isCursorIn","isCropping","playingItem","computed","disableEditing","watch","forceUpdateCropDataList","pause","calculateTimeLineData","mounted","$refs","$nextTick","methods","className","isTimeIndicatorHovered","forEach","startTimeIndicatorOffsetX","endTimeIndicatorOffsetX","containerLeft","rect","left","containerWidth","floor","width","getFormattedCropItem","undefined","formatTime","getDefaultValues","quarterTime","startCropping","editingIndex","stopCropping","addNewCropItemInSlider","addCropItem","newCropItem","getFormattedOffsetX","offsetX","timeIndicatorCheck","isCursorClose","mouseEvent","timeIndicatorMove","currentItem","updateCropItem","addListeners","addEventListener","lastMouseDownOffsetX","getTargetItem","cropItemListIndex","console","log","timeArrIndex","event","updateAllCropItems","newItem","cropItem","smoothScrollContainer","currentHeight","targetScrollHeight","requestAnimationFrame","scrollFunc","heightRange","currentScrollTop","$emit","playSelectedClip","cleanCropItemList","sort","item1","item2","tempCropItemList","component","getUrlKey","decodeURIComponent","RegExp","location","href","replace","Vue","Utils","$axios","axios","config","productionTip","$layer","layer","render","h","App","$mount"],"mappings":"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","file":"js/app.a6e2f4b7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"input-container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.videoUrl),expression:\"videoUrl\"}],attrs:{\"type\":\"text\",\"hidden\":\"hidden\"},domProps:{\"value\":(_vm.videoUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.videoUrl=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],attrs:{\"type\":\"text\",\"hidden\":\"hidden\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_c('video',{ref:\"video\",attrs:{\"src\":_vm.videoUrl,\"controls\":\"\",\"width\":\"300px\"}}),_c('CropTool',{attrs:{\"duration\":_vm.duration,\"playing\":_vm.playing,\"currentPlayingTime\":_vm.currentTime},on:{\"play\":_vm.playVideo,\"pause\":_vm.pauseVideo,\"stop\":_vm.stopVideo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"crop-container\"},[_c('div',{staticClass:\"crop-slider\"},[_c('div',{ref:\"timeLineContainer\",staticClass:\"crop-time-line-container\"},[_c('div',{staticClass:\"crop-time-line\"}),_vm._l((_vm.cropItemList),function(item,index){return _c('div',{key:index,class:_vm.getCropRangeClass(index),style:(_vm.computedRangeStyle(item))},[_c('div',{class:_vm.getTimeHintClass(index)},[_c('div',{staticClass:\"cursor-line\"}),_c('div',{staticClass:\"cursor-time\"},[_vm._v(_vm._s(_vm.getFormatTime(item.startTime)))])]),_c('div',{class:_vm.getTimeHintClass(index),style:(_vm.computedEndTimeIndicatorStyle(item))},[_c('div',{staticClass:\"cursor-line\"}),_c('div',{staticClass:\"cursor-time\"},[_vm._v(_vm._s(_vm.getFormatTime(item.endTime)))])])])}),_c('div',{class:['cursor-time-hint', {'moving-cursor': _vm.showNormalCursorTimeHint}],style:((\"transform: translateX(\" + _vm.currentCursorOffsetX + \"px)\"))},[_c('div',{staticClass:\"cursor-line\"}),_c('div',{staticClass:\"cursor-time\"},[_vm._v(_vm._s(_vm.getFormatTime(_vm.currentCursorTime)))])])],2),_c('div',{staticClass:\"media-duration\"},[_vm._v(_vm._s(_vm.durationText))])]),_c('div',{staticClass:\"crop-panel\"},[_c('div',{staticClass:\"crop-time-area\"},[(_vm.listLength > 0)?_c('div',{staticClass:\"crop-time-header\"},[_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.language.CROP_CLIP_LIST))]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.reset()}}},[_vm._v(\"\\n          清空\\n        \")]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.toggleShowList()}}},[_vm._v(\"\\n          \"+_vm._s(_vm.showList ? '收起' : '展开')+\"\\n        \")])]):_vm._e(),_c('div',{ref:\"timeItemContainer\",class:['crop-time-body', {'crop-time-body-hide': !_vm.showList}],attrs:{\"data-count\":!_vm.showList ? 0 :(_vm.listLength > 10 ? 10 : _vm.listLength)}},[_vm._l((_vm.cropItemList),function(item,index){return [_c('div',{key:index,staticClass:\"crop-time-item\",attrs:{\"data-highlight\":_vm.cropItemHoverIndex === index ? 1 : 0}},[_c('div',{staticClass:\"time-area\"},[_c('div',{staticClass:\"time-input-area\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(_vm._s(_vm.language.CUT_BEGIN_TIME))]),_c('div',{staticClass:\"time-input\"},[_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.startTimeArr[0]},on:{\"blur\":function($event){return _vm.startTimeChange($event, index, 0)}}}),_vm._v(\"\\n                  :\\n                  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.startTimeArr[1]},on:{\"blur\":function($event){return _vm.startTimeChange($event, index, 1)}}}),_vm._v(\"\\n                  :\\n                  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.startTimeArr[2]},on:{\"blur\":function($event){return _vm.startTimeChange($event, index, 2)}}})])]),_c('span',{staticClass:\"range-text\"},[_vm._v(\" ~ \")]),_c('div',{staticClass:\"time-input-area\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(_vm._s(_vm.language.CUT_END_TIME))]),_c('div',{staticClass:\"time-input\"},[_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.endTimeArr[0]},on:{\"blur\":function($event){return _vm.endTimeChange($event, index, 0)}}}),_vm._v(\"\\n                  :\\n                  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.endTimeArr[1]},on:{\"blur\":function($event){return _vm.endTimeChange($event, index, 1)}}}),_vm._v(\"\\n                  :\\n                  \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":item.endTimeArr[2]},on:{\"blur\":function($event){return _vm.endTimeChange($event, index, 2)}}})])])]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.togglePlayClip(index)}}},[_vm._v(\"\\n              \"+_vm._s(_vm.playingIndex === index ? '暂停' : '播放')+\"\\n            \")]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.removeCropItem(index)}}},[_vm._v(\"\\n              删除\\n            \")])])]})],2)]),_c('div',{staticClass:\"crop-time-item\",attrs:{\"data-highlight\":_vm.cropItemHoverIndex === 0 ? 1 : 0,\"data-index\":_vm.cropItemHoverIndex}},[_c('div',{staticClass:\"time-area\"},[_c('div',{staticClass:\"time-input-area\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(_vm._s(_vm.language.CUT_BEGIN_TIME))]),_c('div',{staticClass:\"time-input\"},[_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.startTimeArr[0]},on:{\"blur\":function($event){return _vm.startTimeChange($event, -1, 0)},\"focus\":function($event){return _vm.inputFocus()}}}),_vm._v(\"\\n            :\\n            \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.startTimeArr[1]},on:{\"blur\":function($event){return _vm.startTimeChange($event, -1, 1)},\"focus\":function($event){return _vm.inputFocus()}}}),_vm._v(\"\\n            :\\n            \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.startTimeArr[2]},on:{\"blur\":function($event){return _vm.startTimeChange($event, -1, 2)},\"focus\":function($event){return _vm.inputFocus()}}})])]),_c('span',{staticClass:\"range-text\"},[_vm._v(\" ~ \")]),_c('div',{staticClass:\"time-input-area\"},[_c('span',{staticClass:\"time-text\"},[_vm._v(_vm._s(_vm.language.CUT_END_TIME))]),_c('div',{staticClass:\"time-input\"},[_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.endTimeArr[0]},on:{\"blur\":function($event){return _vm.endTimeChange($event, -1, 0)},\"focus\":function($event){return _vm.inputFocus()}}}),_vm._v(\"\\n            :\\n            \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.endTimeArr[1]},on:{\"blur\":function($event){return _vm.endTimeChange($event, -1, 1)},\"focus\":function($event){return _vm.inputFocus()}}}),_vm._v(\"\\n            :\\n            \"),_c('input',{attrs:{\"type\":\"text\"},domProps:{\"value\":_vm.cropItemToAdd && _vm.cropItemToAdd.endTimeArr[2]},on:{\"blur\":function($event){return _vm.endTimeChange($event, -1, 2)},\"focus\":function($event){return _vm.inputFocus()}}})])])]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.togglePlayClip(-1)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.playing && _vm.playingIndex === -1 ? '暂停' : '播放')+\"\\n      \")]),_c('button',{staticClass:\"small-btn\",on:{\"click\":function($event){return _vm.onAddClick()}}},[_vm._v(\"\\n        添加\\n      \")])]),_c('div',{class:['confirm-btn', {'confirm-btn-disabled': _vm.isSendingCrop}],on:{\"click\":function($event){return _vm.confirmCrop()}}},[_vm._v(_vm._s(_vm.isSendingCrop ? _vm.language.SENDING_DATA :_vm.language.CONFIRM_CUT_VIDEO)+\"\\n    \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * @file 常用于倒计时、或播放器的进度时长之类的\r\n * @author fengma1992\r\n */\r\nexport default function (seconds) {\r\n\r\n    const date = new Date(seconds * 1000);\r\n\r\n    return {\r\n        days: String(date.getUTCDate() - 1).padStart(2, '0'),\r\n        hours: String(date.getUTCHours()).padStart(2, '0'),\r\n        minutes: String(date.getUTCMinutes()).padStart(2, '0'),\r\n        seconds: String(date.getUTCSeconds()).padStart(2, '0')\r\n    };\r\n\r\n}","/*\r\n * @file 格式化时间\r\n * @author fengma1992\r\n */\r\nimport simplifySecond from './simplifySecond'\r\n\r\n\r\n/**\r\n * 将秒转换为HH:MM:SS格式字符串\r\n * @param time\r\n * @return {string}\r\n */\r\nconst getFormatTime = function (time) {\r\n    const times = simplifySecond(time < 0 ? 0 : time)\r\n\r\n    return [\r\n        times.hours,\r\n        times.minutes,\r\n        times.seconds\r\n    ].join(':')\r\n}\r\n\r\n/**\r\n * 将秒转换为[HH, MM, SS]格式数组\r\n * @param time\r\n * @return {array}\r\n */\r\nconst getFormatTimeArr = function (time) {\r\n    const times = simplifySecond(time < 0 ? 0 : time)\r\n\r\n    return [\r\n        times.hours,\r\n        times.minutes,\r\n        times.seconds\r\n    ]\r\n}\r\n\r\n/**\r\n * 将[HH, MM, SS]格式数组转换为秒\r\n * @param timeArr\r\n * @return {number}\r\n */\r\nconst restoreTimeFromTimeArr = function (timeArr) {\r\n    const time = +timeArr[0] * 3600 + +timeArr[1] * 60 + +timeArr[2]\r\n    return time > 0 ? time : 0\r\n}\r\n\r\n/**\r\n * 将HH:MM:SS格式字符串转换为秒\r\n * @param timeStr\r\n * @return {number}\r\n */\r\nconst restoreOriginalTime = function (timeStr) {\r\n    const timeArr = timeStr.split(':')\r\n    if (timeArr.length !== 3\r\n        || timeArr[0].length !== 2\r\n        || timeArr[1].length !== 2\r\n        || timeArr[2].length !== 2) {\r\n        return 0\r\n    }\r\n    const time = timeArr[0] * 3600 + timeArr[1] * 60 + timeArr[2]\r\n    return time > 0 ? time : 0\r\n}\r\n\r\nexport default {\r\n    getFormatTime,\r\n    getFormatTimeArr,\r\n    restoreTimeFromTimeArr,\r\n    restoreOriginalTime,\r\n}","/**\r\n * @file 节流函数\r\n * @author fengma1992\r\n * @date 2018/7/20\r\n * @param {(Function)} fn\r\n * @param {number} [delay=0] Unit: ms.\r\n * @param {boolean} [debounce=false]\r\n *        true: If call interval less than `delay`, only the last call works.\r\n *        false: If call interval less than `delay, call works on fixed rate.\r\n * @return {(Function)} throttled fn.\r\n */\r\nfunction throttle (fn, delay, debounce) {\r\n\r\n    let currCall;\r\n    let lastCall = 0;\r\n    let lastExec = 0;\r\n    let timer = null;\r\n    let diff;\r\n    let scope;\r\n    let args;\r\n    let debounceNextCall;\r\n\r\n    delay = delay || 0;\r\n\r\n    function exec () {\r\n        lastExec = (new Date()).getTime();\r\n        timer = null;\r\n        fn.apply(scope, args || []);\r\n    }\r\n\r\n    let cb = function () {\r\n        currCall = (new Date()).getTime();\r\n        scope = this;\r\n        args = arguments;\r\n        let thisDelay = debounceNextCall || delay;\r\n        let thisDebounce = debounceNextCall || debounce;\r\n        debounceNextCall = null;\r\n        diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\r\n\r\n        clearTimeout(timer);\r\n\r\n        if (thisDebounce) {\r\n            timer = setTimeout(exec, thisDelay);\r\n        }\r\n        else {\r\n            if (diff >= 0) {\r\n                exec();\r\n            }\r\n            else {\r\n                timer = setTimeout(exec, -diff);\r\n            }\r\n        }\r\n\r\n        lastCall = currCall;\r\n    };\r\n\r\n    /**\r\n     * Clear throttle.\r\n     * @public\r\n     */\r\n    cb.clear = function () {\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n            timer = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Enable debounce once.\r\n     */\r\n    cb.debounceNextCall = function (debounceDelay) {\r\n        debounceNextCall = debounceDelay;\r\n    };\r\n\r\n    return cb;\r\n}\r\n\r\nexport default throttle;","<template>\r\n  <div class=\"crop-container\">\r\n    <div class=\"crop-slider\">\r\n      <div ref=\"timeLineContainer\" class=\"crop-time-line-container\">\r\n        <div class=\"crop-time-line\"></div>\r\n        <div v-for=\"(item, index) in cropItemList\"\r\n             :class=\"getCropRangeClass(index)\"\r\n             :style=\"computedRangeStyle(item)\"\r\n             :key=\"index\">\r\n          <div :class=\"getTimeHintClass(index)\">\r\n            <div class=\"cursor-line\"></div>\r\n            <div class=\"cursor-time\">{{getFormatTime(item.startTime)}}</div>\r\n          </div>\r\n          <div :class=\"getTimeHintClass(index)\"\r\n               :style=\"computedEndTimeIndicatorStyle(item)\">\r\n            <div class=\"cursor-line\"></div>\r\n            <div class=\"cursor-time\">{{getFormatTime(item.endTime)}}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div :class=\"['cursor-time-hint', {'moving-cursor': showNormalCursorTimeHint}]\"\r\n             :style=\"`transform: translateX(${currentCursorOffsetX}px)`\">\r\n          <div class=\"cursor-line\"></div>\r\n          <div class=\"cursor-time\">{{getFormatTime(currentCursorTime)}}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"media-duration\">{{durationText}}</div>\r\n    </div>\r\n    <div class=\"crop-panel\">\r\n      <div class=\"crop-time-area\">\r\n        <div v-if=\"listLength > 0\" class=\"crop-time-header\">\r\n          <div class=\"text\">{{language.CROP_CLIP_LIST}}</div>\r\n          <button class=\"small-btn\" @click=\"reset()\">\r\n            清空\r\n          </button>\r\n          <button class=\"small-btn\" @click=\"toggleShowList()\">\r\n            {{showList ? '收起' : '展开'}}\r\n          </button>\r\n        </div>\r\n        <div ref=\"timeItemContainer\" :class=\"['crop-time-body', {'crop-time-body-hide': !showList}]\"\r\n             :data-count=\"!showList ? 0 :(listLength > 10 ? 10 : listLength)\">\r\n          <template v-for=\"(item, index) in cropItemList\">\r\n            <div :key=\"index\"\r\n                 :data-highlight=\"cropItemHoverIndex === index ? 1 : 0\"\r\n                 class=\"crop-time-item\">\r\n              <div class=\"time-area\">\r\n                <div class=\"time-input-area\">\r\n                  <span class=\"time-text\">{{language.CUT_BEGIN_TIME}}</span>\r\n                  <div class=\"time-input\">\r\n                    <input type=\"text\"\r\n                           :value=\"item.startTimeArr[0]\"\r\n                           @blur=\"startTimeChange($event, index, 0)\" />\r\n                    :\r\n                    <input type=\"text\"\r\n                           :value=\"item.startTimeArr[1]\"\r\n                           @blur=\"startTimeChange($event, index, 1)\" />\r\n                    :\r\n                    <input type=\"text\"\r\n                           :value=\"item.startTimeArr[2]\"\r\n                           @blur=\"startTimeChange($event, index, 2)\" />\r\n                  </div>\r\n                </div>\r\n                <span class=\"range-text\"> ~ </span>\r\n                <div class=\"time-input-area\">\r\n                  <span class=\"time-text\">{{language.CUT_END_TIME}}</span>\r\n\r\n                  <div class=\"time-input\">\r\n                    <input type=\"text\"\r\n                           :value=\"item.endTimeArr[0]\"\r\n                           @blur=\"endTimeChange($event, index, 0)\" />\r\n                    :\r\n                    <input type=\"text\"\r\n                           :value=\"item.endTimeArr[1]\"\r\n                           @blur=\"endTimeChange($event, index, 1)\" />\r\n                    :\r\n                    <input type=\"text\"\r\n                           :value=\"item.endTimeArr[2]\"\r\n                           @blur=\"endTimeChange($event, index, 2)\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <button class=\"small-btn\" @click=\"togglePlayClip(index)\">\r\n                {{playingIndex === index ? '暂停' : '播放'}}\r\n              </button>\r\n              <button class=\"small-btn\" @click=\"removeCropItem(index)\">\r\n                删除\r\n              </button>\r\n            </div>\r\n          </template>\r\n        </div>\r\n      </div>\r\n      <!--固定待添加的裁剪在底栏-->\r\n      <div class=\"crop-time-item\" :data-highlight=\"cropItemHoverIndex === 0 ? 1 : 0\"\r\n           :data-index=\"cropItemHoverIndex\">\r\n        <div class=\"time-area\">\r\n          <div class=\"time-input-area\">\r\n            <span class=\"time-text\">{{language.CUT_BEGIN_TIME}}</span>\r\n            <div class=\"time-input\">\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.startTimeArr[0]\"\r\n                     @blur=\"startTimeChange($event, -1, 0)\"\r\n                     @focus=\"inputFocus()\" />\r\n              :\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.startTimeArr[1]\"\r\n                     @blur=\"startTimeChange($event, -1, 1)\"\r\n                     @focus=\"inputFocus()\" />\r\n              :\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.startTimeArr[2]\"\r\n                     @blur=\"startTimeChange($event, -1, 2)\"\r\n                     @focus=\"inputFocus()\" />\r\n            </div>\r\n          </div>\r\n          <span class=\"range-text\"> ~ </span>\r\n          <div class=\"time-input-area\">\r\n            <span class=\"time-text\">{{language.CUT_END_TIME}}</span>\r\n            <div class=\"time-input\">\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.endTimeArr[0]\"\r\n                     @blur=\"endTimeChange($event, -1, 0)\"\r\n                     @focus=\"inputFocus()\" />\r\n              :\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.endTimeArr[1]\"\r\n                     @blur=\"endTimeChange($event, -1, 1)\"\r\n                     @focus=\"inputFocus()\" />\r\n              :\r\n              <input type=\"text\"\r\n                     :value=\"cropItemToAdd && cropItemToAdd.endTimeArr[2]\"\r\n                     @blur=\"endTimeChange($event, -1, 2)\"\r\n                     @focus=\"inputFocus()\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"small-btn\" @click=\"togglePlayClip(-1)\">\r\n          {{playing && playingIndex === -1 ? '暂停' : '播放'}}\r\n        </button>\r\n        <button class=\"small-btn\" @click=\"onAddClick()\">\r\n          添加\r\n        </button>\r\n      </div>\r\n      <div :class=\"['confirm-btn', {'confirm-btn-disabled': isSendingCrop}]\"\r\n           @click=\"confirmCrop()\">{{isSendingCrop ? language.SENDING_DATA :language.CONFIRM_CUT_VIDEO}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport formatTime from '../utils/formatTime'\r\nimport simplifySecond from '../utils/simplifySecond'\r\nimport throttle from '../utils/throttle'\r\n\r\n// 容器距页面左侧距离，用于测量鼠标event中的x距离\r\nlet containerLeft = 0\r\n// 容器宽度\r\nlet containerWidth = 0\r\n\r\n/**\r\n * 检测鼠标是否接近\r\n * @param x1\r\n * @param x2\r\n */\r\nconst isCursorClose = function(x1, x2) {\r\n  return Math.abs(x1 - x2) < 2\r\n}\r\nexport default {\r\n  name: 'crop-tool',\r\n  components: {},\r\n  props: {\r\n    duration: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    currentPlayingTime: {\r\n      type: Number,\r\n      default: 0,\r\n    },\r\n    playing: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      cropItemHoverIndex: -1,\r\n      timeLineContainer: null,\r\n      sliderLength: 0,\r\n\t  onclickstatus:false,\r\n      timeToPixelRatio: 1,\r\n      cropItemToAdd: null, // 用来暂存待添加的项\r\n      cropItemList: [\r\n        // {\r\n        //     startTime: 0,\r\n        //     endTime: 100,\r\n        //     startTimeArr: [hours, minutes, seconds],\r\n        //     endTimeArr: [hours, minutes, seconds],\r\n        //     startTimeIndicatorOffsetX: 0,\r\n        //     endTimeIndicatorOffsetX: 100,\r\n        // }\r\n      ],\r\n      startTimeIndicatorHoverIndex: -1,\r\n      endTimeIndicatorHoverIndex: -1,\r\n      startTimeIndicatorDraggingIndex: -1,\r\n      endTimeIndicatorDraggingIndex: -1,\r\n      currentEditingIndex: -1,\r\n      currentCursorTime: 0,\r\n      currentCursorOffsetX: 0,\r\n      isCursorIn: false,\r\n      isCropping: false,\r\n\r\n      language: {\r\n        CROP_CLIP_LIST: '裁剪列表',\r\n        CUT_BEGIN_TIME: '开始时间',\r\n        CUT_END_TIME: '结束时间',\r\n        SENDING_DATA: '裁剪中',\r\n        CONFIRM_CUT_VIDEO: '裁剪',\r\n      },\r\n      playingIndex: -1,\r\n      showList: false,\r\n      playingItem: null,\r\n      isSendingCrop: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    listLength() {\r\n      return this.cropItemList.length\r\n    },\r\n    durationText() {\r\n      return this.getFormatTime(this.duration)\r\n    },\r\n\r\n    disableEditing() {\r\n      return !this.duration || this.duration <= 0\r\n    },\r\n\r\n    showNormalCursorTimeHint() {\r\n      return this.isCursorIn\r\n        && !this.isCropping\r\n        && !~this.startTimeIndicatorHoverIndex\r\n        && !~this.endTimeIndicatorHoverIndex\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    timeToPixelRatio() {\r\n      this.forceUpdateCropDataList()\r\n    },\r\n\r\n    /**\r\n     * 监测播放进度，达到片段末尾就暂停\r\n     */\r\n    currentPlayingTime(currentTime) {\r\n      const playingItem = this.playingItem\r\n      if (!playingItem) {\r\n        return\r\n      }\r\n      if (currentTime >= playingItem.endTime) {\r\n        this.pause()\r\n      }\r\n    },\r\n\r\n    isCropping(isCropping) {\r\n      if (isCropping) {\r\n        this.playingItem = null\r\n        this.playingIndex = -1\r\n      }\r\n    },\r\n\r\n    duration() {\r\n      // 时长更新后需更新界面\r\n      this.calculateTimeLineData()\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    // 获取容器距页面左侧距离，用于后续鼠标event的x位置计算\r\n    this.timeLineContainer = this.$refs.timeLineContainer\r\n\r\n    this.$nextTick(() => {\r\n\r\n      this.calculateTimeLineData()\r\n\r\n      this.addListeners()\r\n    })\r\n  },\r\n\r\n  methods: {\r\n\r\n\r\n    getCropRangeClass(index) {\r\n      let className = 'crop-range'\r\n\r\n      if (this.cropItemHoverIndex === index) {\r\n        className += ' crop-range-hover'\r\n\r\n        if (this.isCropping) {\r\n          className += ' crop-range-dragging'\r\n        }\r\n      }\r\n\r\n      return className\r\n    },\r\n\r\n    getTimeHintClass(index) {\r\n      let className = 'cursor-time-hint'\r\n\r\n      if (this.isTimeIndicatorHovered(index)) {\r\n        className += ' crop-moving-cursor'\r\n      } else {\r\n        className += this.currentEditingIndex === index ? ' cropping' : ''\r\n      }\r\n\r\n      return className\r\n    },\r\n\r\n    /**\r\n     * 界面重新布局后需重新计算offsetX数据\r\n     */\r\n    forceUpdateCropDataList() {\r\n      if (!this.listLength) {\r\n        return\r\n      }\r\n\r\n      const cropItemList = this.cropItemList\r\n      const duration = this.duration\r\n      const timeToPixelRatio = this.timeToPixelRatio\r\n      cropItemList.forEach(item => {\r\n        let startTime = item.startTime\r\n        let endTime = item.endTime\r\n        if (!startTime || startTime < 0 || startTime >= duration) {\r\n          startTime = 0\r\n        }\r\n        if (!endTime || endTime < startTime || endTime > duration) {\r\n          endTime = duration\r\n        }\r\n        item.startTimeIndicatorOffsetX = startTime / timeToPixelRatio\r\n        item.endTimeIndicatorOffsetX = endTime / timeToPixelRatio\r\n      })\r\n      this.cropItemList = cropItemList.slice(0)\r\n    },\r\n\r\n    calculateTimeLineData() {\r\n      if (!this.timeLineContainer) {\r\n        return\r\n      }\r\n      const duration = this.duration\r\n\r\n      const rect = this.timeLineContainer.getBoundingClientRect()\r\n      containerLeft = rect.left\r\n      containerWidth = Math.floor(rect.width)\r\n\r\n      this.sliderLength = containerWidth\r\n      this.timeToPixelRatio = duration / containerWidth\r\n    },\r\n\r\n    getFormatTime(time) {\r\n      const times = simplifySecond(time < 0 ? 0 : time)\r\n\r\n      return [\r\n        times.hours,\r\n        times.minutes,\r\n        times.seconds,\r\n      ].join(':')\r\n    },\r\n\r\n    isTimeIndicatorHovered(index) {\r\n      return this.startTimeIndicatorDraggingIndex === index\r\n        || this.startTimeIndicatorHoverIndex === index\r\n        || this.endTimeIndicatorDraggingIndex === index\r\n        || this.endTimeIndicatorHoverIndex === index\r\n    },\r\n\r\n    computedRangeStyle(item) {\r\n      return 'transform: translateX('\r\n        + item.startTimeIndicatorOffsetX\r\n        + 'px); width:'\r\n        + (item.endTimeIndicatorOffsetX - item.startTimeIndicatorOffsetX)\r\n        + 'px'\r\n    },\r\n\r\n    computedEndTimeIndicatorStyle(item) {\r\n      return 'transform: translateX('\r\n        + (item.endTimeIndicatorOffsetX - item.startTimeIndicatorOffsetX)\r\n        + 'px)'\r\n    },\r\n\r\n    /**\r\n     * 获取标准的裁剪数据格式\r\n     */\r\n    getFormattedCropItem(startTime, endTime) {\r\n      const duration = this.duration\r\n      const timeToPixelRatio = this.timeToPixelRatio\r\n      if (!startTime || startTime < 0 || startTime > duration) {\r\n        startTime = 0\r\n      }\r\n      if (endTime === undefined || endTime < startTime || endTime > duration) {\r\n        endTime = duration\r\n      }\r\n\r\n      return {\r\n        startTime: startTime,\r\n        endTime: endTime,\r\n        startTimeArr: formatTime.getFormatTimeArr(startTime),\r\n        endTimeArr: formatTime.getFormatTimeArr(endTime),\r\n        startTimeIndicatorOffsetX: startTime / timeToPixelRatio,\r\n        endTimeIndicatorOffsetX: endTime / timeToPixelRatio,\r\n      }\r\n    },\r\n\r\n    getDefaultValues() {\r\n      // 默认添加的时间为1/4到 3/4，到边缘时用户鼠标不好选中时间条\r\n      const quarterTime = this.duration / 4\r\n      return this.getFormattedCropItem(quarterTime, quarterTime * 3)\r\n    },\r\n\r\n    /**\r\n     * 鼠标点击抬起后开始裁剪\r\n     * @param editingIndex {number} 当前裁剪item位置\r\n     */\r\n    startCropping(editingIndex) {\r\n      // 开始裁剪后默认控制结束时标\r\n      this.endTimeIndicatorDraggingIndex = editingIndex\r\n      this.currentEditingIndex = editingIndex\r\n      this.cropItemHoverIndex = editingIndex\r\n      this.isCropping = true\r\n\r\n      // 添加一项后列表项肯定存在了\r\n      this.showList = true\r\n    },\r\n\r\n    stopCropping() {\r\n      this.startTimeIndicatorDraggingIndex = -1\r\n      this.endTimeIndicatorDraggingIndex = -1\r\n      this.currentEditingIndex = -1\r\n      this.cropItemHoverIndex = -1\r\n      this.isCropping = false\r\n    },\r\n\r\n    /**\r\n     * 点击时间条新增裁剪\r\n     * @param currentCursorOffsetX\r\n     */\r\n    addNewCropItemInSlider() {\r\n      const currentCursorTime = this.currentCursorTime\r\n      const newCropItem = this.getFormattedCropItem(currentCursorTime, currentCursorTime)\r\n      this.addCropItem(newCropItem)\r\n    },\r\n\r\n    /**\r\n     * 将offsetX限定到时间条内\r\n     */\r\n    getFormattedOffsetX(offsetX) {\r\n      if (offsetX < 0) {\r\n        return 0\r\n      }\r\n      if (offsetX >= containerWidth) {\r\n        return containerWidth\r\n      }\r\n      return offsetX\r\n    },\r\n\r\n    timeIndicatorCheck(currentCursorOffsetX, mouseEvent) {\r\n      // 在裁剪状态，直接返回\r\n      if (this.isCropping) {\r\n        return\r\n      }\r\n\r\n      // 鼠标移动，重设hover状态\r\n      this.startTimeIndicatorHoverIndex = -1\r\n      this.endTimeIndicatorHoverIndex = -1\r\n      this.startTimeIndicatorDraggingIndex = -1\r\n      this.endTimeIndicatorDraggingIndex = -1\r\n      this.cropItemHoverIndex = -1\r\n\r\n      this.cropItemList.forEach((item, index) => {\r\n        // 已找到item，后面的再无需查询\r\n        if (~this.cropItemHoverIndex || this.isCropping) {\r\n          return\r\n        }\r\n        // 标志当前鼠标悬浮在哪个裁剪片段上，高亮此片段\r\n        if (currentCursorOffsetX >= item.startTimeIndicatorOffsetX\r\n          && currentCursorOffsetX <= item.endTimeIndicatorOffsetX) {\r\n          this.cropItemHoverIndex = index\r\n        }\r\n\r\n        // 默认始末时间戳在一起时优先选中截止时间戳\r\n        if (isCursorClose(item.endTimeIndicatorOffsetX, currentCursorOffsetX)) {\r\n          this.endTimeIndicatorHoverIndex = index\r\n          // 鼠标放下，开始裁剪\r\n          if (mouseEvent === 'mousedown') {\r\n            this.endTimeIndicatorDraggingIndex = index\r\n            this.currentEditingIndex = index\r\n            this.isCropping = true\r\n          }\r\n        } else if (isCursorClose(item.startTimeIndicatorOffsetX, currentCursorOffsetX)) {\r\n          this.startTimeIndicatorHoverIndex = index\r\n          // 鼠标放下，开始裁剪\r\n          if (mouseEvent === 'mousedown') {\r\n            this.startTimeIndicatorDraggingIndex = index\r\n            this.currentEditingIndex = index\r\n            this.isCropping = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    timeIndicatorMove(currentCursorOffsetX) {\r\n      // 裁剪状态，随动时间戳\r\n      if (this.isCropping) {\r\n        const currentEditingIndex = this.currentEditingIndex\r\n        const startTimeIndicatorDraggingIndex = this.startTimeIndicatorDraggingIndex\r\n        const endTimeIndicatorDraggingIndex = this.endTimeIndicatorDraggingIndex\r\n        const currentCursorTime = this.currentCursorTime\r\n\r\n        let currentItem = this.cropItemList[currentEditingIndex]\r\n        // 操作起始位时间戳\r\n        if (startTimeIndicatorDraggingIndex > -1 && currentItem) {\r\n          // 已到截止位时间戳则直接返回\r\n          if (currentCursorOffsetX > currentItem.endTimeIndicatorOffsetX) {\r\n            return\r\n          }\r\n          currentItem.startTimeIndicatorOffsetX = currentCursorOffsetX\r\n          currentItem.startTime = currentCursorTime\r\n        }\r\n\r\n        // 操作截止位时间戳\r\n        if (endTimeIndicatorDraggingIndex > -1 && currentItem) {\r\n          // 已到起始位时间戳则直接返回\r\n          if (currentCursorOffsetX < currentItem.startTimeIndicatorOffsetX) {\r\n            return\r\n          }\r\n          currentItem.endTimeIndicatorOffsetX = currentCursorOffsetX\r\n          currentItem.endTime = currentCursorTime\r\n        }\r\n        this.updateCropItem(currentItem, currentEditingIndex)\r\n      }\r\n    },\r\n\r\n    addListeners() {\r\n      window.addEventListener('resize', this.calculateTimeLineData.bind(this))\r\n\r\n      if (!this.timeLineContainer) {\r\n        return\r\n      }\r\n      let lastMouseDownOffsetX = null\r\n      this.timeLineContainer.addEventListener('mousemove', e => {\r\n        throttle(() => {\r\n          const currentCursorOffsetX = e.clientX - containerLeft\r\n\r\n          // mousemove范围检测\r\n          if (currentCursorOffsetX < 0 || currentCursorOffsetX > containerWidth) {\r\n            this.isCursorIn = false\r\n            // 鼠标拖拽状态到达边界直接触发mouseup状态\r\n            if (this.isCropping) {\r\n              this.stopCropping()\r\n              this.timeIndicatorCheck(currentCursorOffsetX < 0 ? 0 : containerWidth, 'mouseup')\r\n            }\r\n            return\r\n          } else {\r\n            this.isCursorIn = true\r\n          }\r\n\r\n          this.currentCursorTime = currentCursorOffsetX * this.timeToPixelRatio\r\n          this.currentCursorOffsetX = currentCursorOffsetX\r\n\r\n          this.timeIndicatorCheck(currentCursorOffsetX, 'mousemove')\r\n          this.timeIndicatorMove(currentCursorOffsetX)\r\n\r\n        }, 10, true)()\r\n\r\n      })\r\n      this.timeLineContainer.addEventListener('mousedown', e => {\r\n        const currentCursorOffsetX = e.clientX - containerLeft\r\n        // 记录mousedown位置，用于mouseup时检测是否是点击事件\r\n        lastMouseDownOffsetX = currentCursorOffsetX\r\n        this.timeIndicatorCheck(currentCursorOffsetX, 'mousedown')\r\n      })\r\n      this.timeLineContainer.addEventListener('mouseup', e => {\r\n\r\n        // 已经处于裁剪状态时，鼠标抬起，则裁剪状态取消\r\n        if (this.isCropping) {\r\n          this.stopCropping()\r\n          return\r\n        }\r\n\r\n        const currentCursorOffsetX = this.getFormattedOffsetX(e.clientX - containerLeft)\r\n        // mousedown与mouseup位置不一致，则不认为是点击,直接返回\r\n        if (Math.abs(currentCursorOffsetX - lastMouseDownOffsetX) > 3) {\r\n          return\r\n        }\r\n\r\n        // 更新当前鼠标指向的时间\r\n        this.currentCursorTime = currentCursorOffsetX * this.timeToPixelRatio\r\n\r\n        // 鼠标点击新增裁剪片段\r\n        if (!this.isCropping) {\r\n          this.addNewCropItemInSlider()\r\n\r\n          // 新操作位置为数组最后一位\r\n          this.startCropping(this.cropItemList.length - 1)\r\n        }\r\n      })\r\n    },\r\n\r\n    /**\r\n     * 用户点击时无数据则预增加一条数据\r\n     */\r\n    inputFocus() {\r\n      this.cropItemToAdd = this.getDefaultValues()\r\n    },\r\n\r\n    getTargetItem(cropItemListIndex) {\r\n      let currentItem = null\r\n      // index为-1表明编辑的为待添加项, 否则为裁剪列表项\r\n      if (cropItemListIndex === -1) {\r\n        if (!this.cropItemToAdd) {\r\n          this.cropItemToAdd = this.getDefaultValues()\r\n        }\r\n        currentItem = this.cropItemToAdd\r\n      } else {\r\n        const cropItemList = this.cropItemList.slice(0)\r\n        currentItem = cropItemList[cropItemListIndex]\r\n      }\r\n      return currentItem\r\n    },\r\n\r\n    startTimeChange(event, cropItemListIndex, timeArrIndex) {\r\n      const value = Math.floor(+event.target.value)\r\n      const currentItem = this.getTargetItem(cropItemListIndex)\r\n\r\n      // 判断输入值超出范围或NaN,恢复原值\r\n      if (value < 0 || value > 59 || value !== value) {\r\n        console.log('不合法的输入值')\r\n      } else {\r\n        // 输出用户自定义值\r\n        currentItem.startTimeArr[timeArrIndex] = String(value).padStart(2, '0')\r\n        currentItem.startTime = formatTime.restoreTimeFromTimeArr(currentItem.startTimeArr)\r\n        // 开始时间不能大于结束时间\r\n        if (currentItem.startTime > currentItem.endTime) {\r\n          currentItem.startTime = currentItem.endTime - 1\r\n          currentItem.startTimeArr = formatTime.getFormatTimeArr(currentItem.startTime)\r\n\r\n          console.log('起始值必须小于结束值')\r\n        }\r\n\r\n        this.updateCropItem(currentItem, cropItemListIndex)\r\n      }\r\n      event.target.value = currentItem.startTimeArr[timeArrIndex]\r\n    },\r\n\r\n    endTimeChange(event, cropItemListIndex, timeArrIndex) {\r\n      const value = Math.floor(+event.target.value)\r\n      const currentItem = this.getTargetItem(cropItemListIndex)\r\n\r\n      // 判断输入值超出范围或NaN,恢复原值\r\n      if (value < 0 || value > 59 || value !== value) {\r\n        console.log('不合法的输入值')\r\n      } else {\r\n        // 输出用户自定义值\r\n        currentItem.endTimeArr[timeArrIndex] = String(value).padStart(2, '0')\r\n        currentItem.endTime = formatTime.restoreTimeFromTimeArr(currentItem.endTimeArr)\r\n        // 结束时间不能小于开始时间\r\n        if (currentItem.endTime < currentItem.startTime) {\r\n          currentItem.endTime = currentItem.startTime + 1\r\n          currentItem.endTimeArr = formatTime.getFormatTimeArr(currentItem.endTime)\r\n\r\n          console.log('结束值必须大于起始值')\r\n        }\r\n        // 结束时间不能大于总时长\r\n        const duration = this.duration\r\n        if (currentItem.endTime > duration) {\r\n\r\n          console.log('结束值不能大于总时长')\r\n\r\n          currentItem.endTime = duration\r\n          currentItem.endTimeArr = formatTime.getFormatTimeArr(duration)\r\n        }\r\n\r\n        this.updateCropItem(currentItem, cropItemListIndex)\r\n      }\r\n      event.target.value = currentItem.endTimeArr[timeArrIndex]\r\n    },\r\n    /**\r\n     * 切换列表展示\r\n     */\r\n    toggleShowList() {\r\n      this.showList = !this.showList\r\n    },\r\n\r\n\r\n    /**\r\n     * 更新全部裁剪\r\n     */\r\n    updateAllCropItems(cropItemList) {\r\n      this.cropItemList = cropItemList\r\n      this.forceUpdateCropDataList()\r\n    },\r\n\r\n    /**\r\n     * 更新单个裁剪\r\n     */\r\n    updateCropItem(item, index) {\r\n      if (index < 0) {\r\n        return\r\n      }\r\n      const newItem = this.getFormattedCropItem(item.startTime, item.endTime)\r\n      this.cropItemList.splice(index, 1, newItem)\r\n    },\r\n\r\n    /**\r\n     * 移除单个裁剪\r\n     * @param index\r\n     */\r\n    removeCropItem(index) {\r\n      this.cropItemList.splice(index, 1)\r\n    },\r\n\r\n    /**\r\n     * 添加一个空裁剪\r\n     */\r\n    onAddClick() {\r\n      this.showList = true\r\n      // 将待裁剪数据项添加到裁剪列表, 无待裁剪则直接增加一条新数据\r\n      this.addCropItem(this.cropItemToAdd || this.getDefaultValues())\r\n    },\r\n\r\n    addCropItem(cropItem) {\r\n      this.cropItemList.push(cropItem)\r\n      // 添加裁剪时置空待裁剪项\r\n      this.cropItemToAdd = null\r\n      this.smoothScrollContainer()\r\n    },\r\n\r\n    /**\r\n     * 平滑滚动裁剪列表\r\n     **/\r\n    smoothScrollContainer() {\r\n      if (this.listLength <= 10) {\r\n        return\r\n      }\r\n      const targetScrollHeight = (this.listLength - 10) * 40\r\n      const currentScrollTop = this.$refs.timeItemContainer.scrollTop\r\n      const scrollHeight = targetScrollHeight - currentScrollTop\r\n      const heightRange = scrollHeight / 10\r\n\r\n      const scrollFunc = currentHeight => {\r\n        if (currentHeight >= targetScrollHeight) {\r\n          return\r\n        }\r\n        requestAnimationFrame(() => {\r\n          this.$refs.timeItemContainer.scrollTo(0, currentHeight)\r\n          scrollFunc(currentHeight + heightRange)\r\n        })\r\n      }\r\n\r\n      scrollFunc(currentScrollTop + heightRange)\r\n    },\r\n\r\n    /**\r\n     * 重置\r\n     */\r\n    reset() {\r\n      this.cropItemToAdd = null\r\n      this.cropItemList = []\r\n      this.cropItemHoverIndex = -1\r\n      this.startTimeIndicatorHoverIndex = -1\r\n      this.endTimeIndicatorHoverIndex = -1\r\n      this.startTimeIndicatorDraggingIndex = -1\r\n      this.endTimeIndicatorDraggingIndex = -1\r\n      this.currentEditingIndex = -1\r\n      this.currentCursorTime = 0\r\n      this.currentCursorOffsetX = 0\r\n      this.isCursorIn = false\r\n      this.isCropping = false\r\n      this.showList = false\r\n      this.playingItem = undefined\r\n      this.playingIndex = -1\r\n      this.isSendingCrop = false\r\n      this.$emit('stop')\r\n    },\r\n\r\n    /**\r\n     * 切换片段播放暂停\r\n     * @param index\r\n     */\r\n    togglePlayClip(index) {\r\n      if (this.playingItem) {\r\n        this.pause()\r\n      } else {\r\n        this.playSelectedClip(index)\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 播放选中片段\r\n     * @param index\r\n     */\r\n    playSelectedClip(index) {\r\n      this.playingItem = this.getTargetItem(index)\r\n      this.playingIndex = index\r\n      if (!this.playingItem) {\r\n        console.log('无裁剪片段')\r\n        return\r\n      }\r\n      this.isCropping = false\r\n\r\n      const startTime = this.playingItem.startTime\r\n\r\n      this.$emit('play', startTime || 0)\r\n    },\r\n\r\n    pause() {\r\n      this.$emit('pause')\r\n    },\r\n\r\n    /**\r\n     * cropItemList排序并去重\r\n     */\r\n    cleanCropItemList() {\r\n      let cropItemList = this.cropItemList\r\n\r\n      // 1. 依据startTime由小到大排序\r\n      cropItemList = cropItemList.sort(function(item1, item2) {\r\n        return item1.startTime - item2.startTime\r\n      })\r\n\r\n      let tempCropItemList = []\r\n      let startTime = cropItemList[0].startTime\r\n      let endTime = cropItemList[0].endTime\r\n\r\n      // 遍历，删除重复片段\r\n      cropItemList.forEach(item => {\r\n\r\n        // currentItem片段包含item\r\n        if (item.endTime <= endTime && item.startTime >= startTime) {\r\n          return\r\n        }\r\n        // currentItem片段与item有重叠\r\n        if (item.startTime <= endTime && item.endTime >= endTime) {\r\n          endTime = item.endTime\r\n          return\r\n        }\r\n        // currentItem片段与item无重叠,向列表添加一项，更新记录参数\r\n        if (item.startTime > endTime) {\r\n          tempCropItemList.push({\r\n            startTime: startTime,\r\n            endTime: endTime,\r\n            startTimeArr: formatTime.getFormatTimeArr(startTime),\r\n            endTimeArr: formatTime.getFormatTimeArr(endTime),\r\n          })\r\n\r\n          startTime = item.startTime\r\n          endTime = item.endTime\r\n        }\r\n      })\r\n\r\n      // 遍历完成，将最后的时间片段写入列表\r\n      tempCropItemList.push({\r\n        startTime: startTime,\r\n        endTime: endTime,\r\n        startTimeArr: formatTime.getFormatTimeArr(startTime),\r\n        endTimeArr: formatTime.getFormatTimeArr(endTime),\r\n      })\r\n\r\n      return tempCropItemList\r\n    },\r\n\r\n    /**\r\n     * 确认裁剪\r\n     */\r\n    confirmCrop() {\r\n\t\tif(this.onclickstatus){\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\tthis.onclickstatus = true;\r\n\t\t\r\n\t\tif(this.cropItemList[0] === undefined || this.cropItemList[0] === '' || this.cropItemList[0] === null){\r\n\t\t\tthis.onclickstatus = false;\r\n\t\t\t\t  return this.$layer.alert(\"裁剪时间段不能为空\")\r\n\t\t}\r\n\t  let hosturl = decodeURI(this.Utils.getUrlKey('hosturl'));\r\n      let startTime = this.cropItemList[0].startTime\r\n      let endTime = this.cropItemList[0].endTime\r\n\t  let id = this.Utils.getUrlKey('id')\r\n\t  this.isSendingCrop = true;\r\n\t  if (this.isSendingCrop) {\r\n\t    this.$layer.alert(\"裁剪中\");\r\n\t  }\r\n\t  this.$axios.get(`${hosturl}/api/v1/reporter/reporter/shearedit?startTime=${startTime}&endTime=${endTime}&id=${id}`).then(res=>{\r\n\t  \t\t  this.$layer.alert(\"裁剪成功\");\r\n\t\t\t  this.onclickstatus = true;\r\n\t  \t\t  window.location.href = `${hosturl}/backend/common/videos/index`;\r\n\t  },err=>{\r\n\t\t\t  this.onclickstatus = false;\r\n\t  \t\t  return this.$layer.alert(\"裁剪失败，请稍后重试\")\r\n\t  })\r\n\r\n      // if (this.isSendingCrop) {\r\n      //   console.log('裁剪中')\r\n      //   return\r\n      // }\r\n\r\n      // if (!this.listLength) {\r\n      //   console.log('无裁剪片段')\r\n      //   return\r\n      // }\r\n\r\n      // let cropItemList = this.cropItemList\r\n\r\n      // this.isSendingCrop = true\r\n\r\n      // const tempCropItemList = this.cleanCropItemList()\r\n\r\n\r\n      // // 更新全部裁剪片段\r\n      // if (JSON.stringify(tempCropItemList) !== JSON.stringify(cropItemList)) {\r\n      //   console.log('存在重复裁剪，已自动为您优化')\r\n      //   this.updateAllCropItems(tempCropItemList)\r\n      // }\r\n\r\n      // this.isSendingCrop = false\r\n      // // 输出裁剪片段\r\n      // return tempCropItemList\r\n    },\r\n  },\r\n}\r\n</script> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropTool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CropTool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CropTool.vue?vue&type=template&id=fb6b2c70&\"\nimport script from \"./CropTool.vue?vue&type=script&lang=js&\"\nexport * from \"./CropTool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<div id=\"app\">\r\n\t\t<div class=\"input-container\">\r\n\t\t\t<!-- <span>视频链接：</span> -->\r\n\t\t\t<input type=\"text\" v-model=\"videoUrl\" hidden=\"hidden\" />\r\n\t\t\t<input type=\"text\" v-model=\"id\" hidden=\"hidden\"/>\r\n\t\t</div>\r\n\t\t<video ref=\"video\" :src=\"videoUrl\" controls width=\"300px\"></video>\r\n\t\t<CropTool :duration=\"duration\" :playing=\"playing\" :currentPlayingTime=\"currentTime\" @play=\"playVideo\" @pause=\"pauseVideo\"\r\n\t\t @stop=\"stopVideo\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport CropTool from './components/CropTool.vue'\r\n\r\n\r\n\texport default {\r\n\t\tname: 'app',\r\n\t\tcomponents: {\r\n\t\t\tCropTool,\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvideoUrl: '',\r\n\t\t\t\tid: '',\r\n\t\t\t\tduration: 0,\r\n\t\t\t\tplaying: false,\r\n\t\t\t\tcurrentTime: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconst videoElement = this.$refs.video\r\n\t\t\tthis.videoUrl=decodeURI(this.Utils.getUrlKey('videoUrl'));\r\n\t\t\tthis.id=this.Utils.getUrlKey('id');\r\n\t\t\t// return console.log(this.Utils.getUrlKey('videoUrl'))\r\n\t\t\tvideoElement.ondurationchange = () => {\r\n\t\t\t\tthis.duration = videoElement.duration\r\n\t\t\t}\r\n\t\t\tvideoElement.onplaying = () => {\r\n\t\t\t\tthis.playing = true\r\n\t\t\t}\r\n\t\t\tvideoElement.onpause = () => {\r\n\t\t\t\tthis.playing = false\r\n\t\t\t}\r\n\t\t\tvideoElement.ontimeupdate = () => {\r\n\t\t\t\tthis.currentTime = videoElement.currentTime\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tseekVideo(seekTime) {\r\n\t\t\t\tthis.$refs.video.currentTime = seekTime\r\n\t\t\t},\r\n\t\t\tplayVideo(time) {\r\n\t\t\t\tthis.seekVideo(time)\r\n\t\t\t\tthis.$refs.video.play()\r\n\t\t\t},\r\n\t\t\tpauseVideo() {\r\n\t\t\t\tthis.$refs.video.pause()\r\n\t\t\t},\r\n\t\t\tstopVideo() {\r\n\t\t\t\tthis.$refs.video.pause()\r\n\t\t\t\tthis.$refs.video.currentTime = 0\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6bf59be3&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  getUrlKey (name) {\n    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.href) || [, ''])[1].replace(/\\+/g, '%20')) || null\n  }\n}","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport Utils from './utils/utils'\nVue.prototype.Utils = Utils\r\nimport './index.scss'\r\nimport axios from 'axios'\nVue.prototype.$axios = axios\r\nVue.config.productionTip = false\r\n\nimport layer from 'vue-layer'\nimport 'vue-layer/lib/vue-layer.css';\n \nVue.prototype.$layer = layer(Vue);\r\nnew Vue({\r\n    render: h => h(App)\r\n}).$mount('#app')\r\n"],"sourceRoot":""}